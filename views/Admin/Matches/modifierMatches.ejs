<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
  <title>Modifier un match</title>
</head>

<body>
  <div class="d-flex justify-content-between flex-wrap flex-md nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Modifier: <%= equipe[0].equipe_1%> vs <%= equipe[0].equipe_2%>
    </h1>
    <div class="btn-toolbar mb-2 mb-md 0">
      <div class="btn-group me-2">
        <button class="btn btn-outline-primary">
          <i class="bi bi-info-circle"></i> Aide
        </button>
      </div>
    </div>
  </div>
  <div class="col py-1">
    <div class="row">
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/Admin">Acceuil</a></li>
            <li class="breadcrumb-item active">Modifier un match</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <form action="/editMatches/<%= MatchId %>?_method=PUT" method="POST" class="needs-validation" novalidate>
    <div class="dropdown">
      <button class="btn btn-success dropdown-toggle col-12" type="button" id="dropdownequipe1"
        data-bs-toggle="dropdown" aria-expanded="false"
        style="background-color: white; color: black; position: relative">
        <%= equipe[0].equipe_1%> <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownequipe" id="dropdownEquipeMenu">
        <% result.forEach(function(item) { %>
          <li>
            <a class="dropdown-item" href="#" onclick="updateDropdownTextEQ1('<%= item.nom_eq %>')">
              <%= item.nom_eq %>
                <img src="/img/<%= item.logo_eq %>" alt="" width=" 32" height="32"
                  class="rounded-circle profile-picture" />
            </a>
          </li>
          <% }); %>
      </ul>
      <input type="hidden" name="equipe1" id="equipe1" />
    </div>
    <br />

    <div class="dropdown">
      <button class="btn btn-success dropdown-toggle col-12" type="button" id="dropdownequipe2"
        data-bs-toggle="dropdown" aria-expanded="false"
        style="background-color: white; color: black; position: relative">
        <%= equipe[0].equipe_2%> <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownequipe" id="dropdownEquipeMenu">
        <% result.forEach(function(item) { %>
          <li>
            <a class="dropdown-item" href="#" onclick="updateDropdownTextEQ2('<%= item.nom_eq %>')">
              <%= item.nom_eq %>
                <img src="/img/<%= item.logo_eq %>" alt="" width=" 32" height="32"
                  class="rounded-circle profile-picture" />
            </a>
          </li>
          <% }); %>
      </ul>
      <input type="hidden" name="equipe2" id="equipe2" />
    </div>
    <br />
    <div class="dropdown">
      <button class="btn btn-success dropdown-toggle col-12" type="button" id="dropdowngestionnaire"
        data-bs-toggle="dropdown" aria-expanded="false"
        style="background-color: white; color: black; position: relative">
        <%= gest[0].id_ge %>
          <%= gest[0].nom %>
            <%= gest[0].prenom %> <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdowngestionnaire" id="dropdownGestionnaireMenu">
        <% results.forEach(function(item) { %>
          <li>
            <a class="dropdown-item" href="#"
              onclick="updateDropdownTextGest('<%= item.id_ge %> <%= item.nom %> <%= item.prenom %>')">
              <%=item.id_ge +""+""+ item.nom +" "+ item.prenom %>
            </a>
          </li>
          <% }); %>
        </ul>
        <input type='hidden' name=" gestionnaire" id="gestionnaire" />
    </div>

    <div>
      <label for="validationCustom01" class="form-label">Date du match</label>
      <input type="date" class="form-control" name="date_ma_match" id="validationCustom01"
        value="<%= equipe[0].date_ma %>" required />
      <div class="valid-feedback"></div>
    </div>
    <div>
      <label for="validationCustom01" class="form-label">Heure du match</label>
      <input type="time" class="form-control" name="heure_ma_match" id="validationCustom01"
        value="<%= equipe[0].date_ma %>" required />
      <div class="valid-feedback"></div>
    </div>
    <div>
      <button class="btn btn-primary mt-3" type="submit">Ajouter</button>
    </div>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>
  <script>
    function updateDropdownTextEQ1(text) {
      document.getElementById("dropdownequipe1").textContent = text;
    }
    function updateDropdownTextEQ2(text) {
      document.getElementById("dropdownequipe2").textContent = text;
    }
    function updateDropdownTextGest(text) {
      document.getElementById("dropdowngestionnaire").textContent = text;
    }
    $(document).ready(function () {
      $("form").submit(function () {
        updateSelectedValues();
      });
    });
    function updateSelectedValues() {
      var equipe1 = $("#dropdownequipe1").text().trim();
      $("#equipe1").val(equipe1);
      var equipe2 = $("#dropdownequipe2").text().trim();
      $("#equipe2").val(equipe2);
      var gestionnaire = $("#dropdowngestionnaire").text().trim();
      $("#gestionnaire").val(gestionnaire);
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>
</body>

</html>